<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<title>UK Election Maps - 2015 Parliament</title>
	<link type="text/css" rel="stylesheet" href="/electionmaps/stylesheets/main.css"/>
	<link type="text/css" rel="stylesheet" href="/electionmaps/stylesheets/theme.default.css"/>
	<link rel="stylesheet" href="/scripts/jqueryui/jquery-ui.structure.css"/>
	<link rel="shortcut icon" href="/img/logo.png">
</head>

<body>
	<script type="text/javascript" src="/electionmaps/scripts/d3.min.js"></script>
	<script type="text/javascript" src="/electionmaps/scripts/topojson.js"></script>
	<script type="text/javascript" src="/electionmaps/scripts/dictionary.js"></script>
	<script type="text/javascript" src="/scripts/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="/scripts/jqueryui/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/electionmaps/scripts/papaparse.min.js"></script>
	<script type="text/javascript" src="/electionmaps/scripts/pagescripts/main.js"></script>
	<script type="text/javascript" src="/electionmaps/scripts/jquery.tablesorter.min.js"></script>
	<script type="text/javascript" src="/electionmaps/scripts/jquery.tablesorter.widgets.min.js"></script>

    <header>
        <h1 id="headertitle">UK Election Maps - 2015 Parliament</h1>
        <script>
            $(function(){
                $("#menu").load("/menu.html")
            });
        </script>
        <div id="menu">

        </div>
    </header>

    <div id="wrapper" class="projection">

				<nav class="projections">

					<h3 class="currentpage"> 2015 Parliament </h3>
					<h3 class="notactive"><a href="#">Current Parliament</a></h3>
					<h3 class="notactive"><a href="#">2015 Projection</a></h3>
                    <div class="divider"></div>
					<h3 class="notactive"><a href="#">Methodology</a></h3>
					<h3 class="notactive"><a href="#">Polls</a></h3>
					<h3 class="notactive"><a href="#">Seat List </a></h3>
					<h3 class="notactive"><a href="#">Trends</a></h3>
					<h3 class="notactive"><a href="#">Articles</a></h3>
                </nav>


				<div id="map">
						<script>
							var width = 600, // width and height of map
								height = 850,
								active = d3.select(null);

							var projection = d3.geo.albers() // variables to change default map position
								.center([-0.5, 54.4]) //centers vertically and horizontally
								.rotate([2.25, 0])
								.parallels([51, 60])
								.scale(5400)
								.translate([width / 2, height / 2]);

							var zoom = d3.behavior.zoom()
								.translate([0, 0])
								.scale(1)
								.scaleExtent([1, 10]) // change depth of potential zoom
								.on("zoom", zoomed); // starts zoom function

							var path = d3.geo.path()
								.projection(projection);

							var svg = d3.select("#map").append("svg")
								.attr("width", width)
								.attr("height", height)
								.on("click", stopped, true);

							svg.append("rect")
								.attr("class", "background")
								.attr("width", width)
								.attr("height", height)
								.on("click", reset);

							var g = svg.append("g");

							var previousnode, current;

							svg
								.call(zoom)
								.call(zoom.event);

					</script>
				</div>

				<div id="resetbutton">
						<button id="resetmap" onclick="reset()">Reset</button>
				</div>

				<div id="seat-information" class="dash-box">
						<h2> Information for Selected Seat</h2>

						<div>
								<div class="seat-summary">
										<div id="information-region"></div>
										<div id="information-seatname"></div>
										<div id="information-party">
												<div class="party-name"></div>
												<div class="party-flair"></div>
										</div>
										<div id="information-gain">
												<div class="party-name"></div>
												<div class="party-flair"></div>
										</div>
										<div id="information-majority"></div>
										<div id="information-turnout"></div>
								</div>
								<div id="charts">
										<div id="information-pie"></div>
										<div id="information-chart"></div>
								</div>

						</div>

				</div>

				<div id="totals" class="dash-box">

            <h2>Totals</h2>

            <div id="totalstablediv">

                <label for="selectareatotals"> Select Region</label>
                <select id="selectareatotals" onchange="selectAreaInfo(value)">
                    <option value="country"></option>
                    <option value="greatbritain">Great Britain</option>
                    <option value="england">England</option>
                    <option value="scotland">Scotland</option>
                    <option value="wales">Wales</option>
                    <option value="northernireland">Northern Ireland</option>
                    <option value="eastofengland">East of England</option>
                    <option value="eastmidlands"> East Midlands</option>
                    <option value="london">London</option>
                    <option value="northeastengland">North East England</option>
                    <option value="northwestengland">North West England</option>
                    <option value="southeastengland">South East England</option>
                    <option value="southwestengland">South West England</option>
                    <option value="westmidlands">West Midlands</option>
                    <option value="yorkshireandthehumber">Yorkshire & Humber</option>
                </select>

								<div id="totalturnout">Turnout</div>


                <table id="totalstable" class="tablesorter">
                    <thead>
                    <tr>
                        <th>Party</th>
                        <th class="tablesorter-header">Seats</th>
                        <th class="tablesorter-header">Change</th>
                        <th class="tablesorter-header">Votes</th>
												<th class="tablesorter-header">Vote %</th>
                        <th class="tablesorter-header">% +/-</th>
                    </tr>

                    </thead>

                    <tbody id="totalstableinfo"></tbody>
                    <tfoot id="totalstablefoot"></tfoot>

                </table>
            </div>
        </div>

				<div id="searchforseat" class="dash-box">
                    <h2>Seat Search</h2>
                    <div>
                        <input type="text" id="searchseats"/>
                    </div>
				</div>


			<div id="filters" class="dash-box">

					<h2>Filters</h2>

                    <div>
                        <label for="dropdownparty">by party</label>
                        <select id="dropdownparty" onchange="filterStates[0].party = value, filterMap()">
                            <option value="null"></option>
                            <option value="labour">Labour</option>
                            <option value="conservative">Conservative</option>
                            <option value="libdems">Liberal Democrats</option>
                            <option value="ukip">UKIP</option>
                            <option value="snp">SNP</option>
                            <option value="plaidcymru">Plaid Cymru</option>
                            <option value="green">Green</option>
                            <option value="dup">DUP</option>
                            <option value="sinnfein">Sinn Féin</option>
                            <option value="sdlp">SDLP</option>
                            <option value="alliance">Alliance</option>
                            <option value="uu">UUP</option>
                            <option value="other">Other</option>

                        </select>


                        <label for="dropdowngains">by gains/no change</label>
                        <select id="dropdowngains" onchange="filterStates[1].gain = value, filterMap()">
                            <option value="null"></option>
                            <option value="gains">Gains</option>
                            <option value="nochange">No Change</option>
                        </select>

                        <label for="dropdownregion">by region</label>
                        <select id="dropdownregion" onchange="filterStates[2].region = value, filterMap()">
                            <option value="null"></option>
                            <option value="eastofengland">East of England</option>
                            <option value="eastmidlands"> East Midlands </option>
                            <option value="london">London</option>
                            <option value="northeastengland">North East England</option>
                            <option value="northwestengland">North West England</option>
                            <option value="northernireland">Northern Ireland</option>
                            <option value="scotland">Scotland</option>
                            <option value="southeastengland">South East England</option>
                            <option value="southwestengland">South West England</option>
                            <option value="wales">Wales</option>
                            <option value="westmidlands">West Midlands</option>
                            <option value="yorkshireandthehumber">Yorkshire & Humber</option>
                        </select>
                        <label>by majority percentage</label>
													<form id="majority">
                            <input type ="text" name="majoritylow" value=0 onchange="filterStates[3].majoritylow = parseFloat(value), filterMap()"/>
                            to
                            <input type="text" name="majorityhigh" value=100 onchange="filterStates[4].majorityhigh = parseFloat(value), filterMap()"/>
													</form>

                        <div class="filter-buttons">
                            <button id="filtertolist" onclick="generateSeatList()">Generate seat list</button>
                            <button id="filterbutton" onclick="resetFilter()">Reset</button>
                        </div>

                        </div>
				</div>


				<div class="filteredlisttablecontainer dash-box">
                    <h2>Seats</h2>
                    <div>
                        <div id="totalfilteredseats"></div>
                        <div id="filteredlisttable"></div>
                    </div>
                </div>


				<div id="chloropleths" class="dash-box">
					<h2>Chloropleths</h2>

					<div id="votesharebyparty">
						<label for="votesharebypartyselect">Vote share: </label>
						<select id="votesharebypartyselect" onchange ="partyVoteShare = value; voteShare()">
								<option value="null"></option>
								<option value="labour">Labour</option>
								<option value="conservative">Conservative</option>
								<option value="libdems">Liberal Democrats</option>
								<option value="ukip">UKIP</option>
								<option value="snp">SNP</option>
								<option value="plaidcymru">Plaid Cymru</option>
								<option value="green">Green</option>
								<option value="dup">DUP</option>
								<option value="sinnfein">Sinn Féin</option>
								<option value="sdlp">SDLP</option>
								<option value="alliance">Alliance</option>
								<option value="uu">UUP</option>
							</select>
					</div>

					<div id="votesharechangebyparty">

						<label for="votesharechangebypartyselect">Vote share +/-: </label>
						<select id="votesharechangebypartyselect" onchange ="partyVoteShareChange = value; voteShareChange()">
								<option value="null"></option>
								<option value="labour">Labour</option>
								<option value="conservative">Conservative</option>
								<option value="libdems">Liberal Democrats</option>
								<option value="ukip">UKIP</option>
								<option value="snp">SNP</option>
								<option value="plaidcymru">Plaid Cymru</option>
								<option value="green">Green</option>
								<option value="dup">DUP</option>
								<option value="sinnfein">Sinn Féin</option>
								<option value="sdlp">SDLP</option>
								<option value="alliance">Alliance</option>
								<option value="uu">UUP</option>
						</select>
					</div>

					<div id="swingfromto">

							<label for="swingfrom">Swing between: </label>
							<select id="swingfrom" onchange ="swingState[0] = value; swingFromTo();">
								<option value="null"></option>
								<option value="labour">Labour</option>
								<option value="conservative">Conservative</option>
								<option value="libdems">Liberal Democrats</option>
								<option value="ukip">UKIP</option>
								<option value="snp">SNP</option>
								<option value="plaidcymru">Plaid Cymru</option>
								<option value="green">Green</option>
								<option value="dup">DUP</option>
								<option value="sinnfein">Sinn Féin</option>
								<option value="sdlp">SDLP</option>
								<option value="alliance">Alliance</option>
								<option value="uu">UUP</option>
							</select>


							<label for="swingto"> and </label>
							<select id="swingto" onchange ="swingState[1] = value; swingFromTo();">
								<option value="null"></option>
								<option value="labour">Labour</option>
								<option value="conservative">Conservative</option>
								<option value="libdems">Liberal Democrats</option>
								<option value="ukip">UKIP</option>
								<option value="snp">SNP</option>
								<option value="plaidcymru">Plaid Cymru</option>
								<option value="green">Green</option>
								<option value="dup">DUP</option>
								<option value="sinnfein">Sinn Féin</option>
								<option value="sdlp">SDLP</option>
								<option value="alliance">Alliance</option>
								<option value="uu">UUP</option>
						</select>
					</div>

				</div>



<!--
        <div id="userinput" class="dash-box">
            <h2> Input your own percentages</h2>

            <div>
                <div class="country-container">
                    <h3>England</h3>

                    <form id="englandinput">
                        <div>
                            <label for="england-con">Con</label>
                            <input class="inputnumbers" type="text" name="england" id="england-con" value=0
                                   onchange="userInputCheck(englandinput, name), englandUserNumbers['conservative'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="england-lab">Lab</label>
                            <input class="inputnumbers" type="text" name="england" id="england-lab" value=0
                                   onchange="userInputCheck(englandinput, name), englandUserNumbers['labour'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="england-lib">Lib</label>
                            <input class="inputnumbers" type="text" name="england" id="england-lib" value=0
                                   onchange="userInputCheck(englandinput, name), englandUserNumbers['libdems'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="england-ukip">UKIP</label>
                            <input class="inputnumbers" type="text" name="england" id="england-ukip" value=0
                                   onchange="userInputCheck(englandinput, name), englandUserNumbers['ukip'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="england-grn">Grn</label>
                            <input class="inputnumbers" type="text" name="england" id="england-grn" value=0
                                   onchange="userInputCheck(englandinput, name), englandUserNumbers['green'] = parseFloat(value)"/>
                        </div>
                        <div class="other-percentage">Other <span id="otherengland"> 100 </span></div>
                    </form>
                    <button class="submitbutton" onclick="analyseUserInput(englandinput, 'england')"/>
                    Submit</button>

                </div>


                <div class="country-container">
                    <h3>Scotland</h3>

                    <form id="scotlandinput">
                        <div>
                            <label for="scotland-con">Con</label>
                            <input class="inputnumbers" type="text" name="scotland" id="scotland-con" value=0
                                   onchange="userInputCheck(scotlandinput, name), scotlandUserNumbers['conservative'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="scotland-lab">Lab</label>
                            <input class="inputnumbers" type="text" name="scotland" id="scotland-lab"
                                   value=0
                                   onchange="userInputCheck(scotlandinput, name), scotlandUserNumbers['labour'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="scotland-lib">Lib</label>
                            <input class="inputnumbers" type="text" name="scotland" id="scotland-lib"
                                   value=0
                                   onchange="userInputCheck(scotlandinput, name), scotlandUserNumbers['libdems'] = parseFloat(value)"/>
                        </div>
                        <div><label for="scotland-ukip">UKIP</label>
                            <input class="inputnumbers" type="text" name="scotland" id="scotland-ukip" value=0
                                   onchange="userInputCheck(scotlandinput, name), scotlandUserNumbers['ukip'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="scotland-grn">Grn</label>
                            <input class="inputnumbers" type="text" name="scotland" id="scotland-grn"
                                   value=0
                                   onchange="userInputCheck(scotlandinput, name), scotlandUserNumbers['green'] = parseFloat(value)"/>
                        </div>
                        <div><label for="scotland-snp">SNP</label>
                            <input class="inputnumbers" type="text" name="scotland" id="scotland-snp"
                                   value=0
                                   onchange="userInputCheck(scotlandinput, name), scotlandUserNumbers['snp'] = parseFloat(value)"/>
                        </div>
                        <div class="other-percentage"> Other <span id="otherscotland">100 </span></div>

                    </form>
                    <button class="submitbutton" onclick="analyseUserInput(scotlandinput, 'scotland')"/>
                    Submit</button>


                </div>

                <div class="country-container">
                    <h3>Wales</h3>

                    <form id="walesinput">

                        <div>
                            <label for="wales-con">Con</label>
                            <input class="inputnumbers" type="text" name="wales" id="wales-con" value=0
                                   onchange="userInputCheck(walesinput, name), walesUserNumbers['conservative'] = parseFloat(value)"/>
                        </div>
                        <div>
                            <label for="wales-lab">Lab</label>
                            <input class="inputnumbers" type="text" name="wales" id="wales-lab" value=0
                                   onchange="userInputCheck(walesinput, name), walesUserNumbers['labour'] = parseFloat(value)"/>
                        </div>
                        <div><label for="wales-lib">Lib</label>
                            <input class="inputnumbers" type="text" name="wales" id="wales-lib" value=0
                                   onchange="userInputCheck(walesinput, name), walesUserNumbers['libdems'] = parseFloat(value)"/>
                        </div>
                        <div><label for="wales-ukip">UKIP</label>
                            <input class="inputnumbers" type="text" name="wales" id="wales-ukip" value=0
                                   onchange="userInputCheck(walesinput, name), walesUserNumbers['ukip'] = parseFloat(value)"/>
                        </div>
                        <div><label for="wales-grn">Grn</label>
                            <input class="inputnumbers" type="text" name="wales" id="wales-grn" value=0
                                   onchange="userInputCheck(walesinput, name), walesUserNumbers['green'] = parseFloat(value)"/>
                        </div>
                        <div><label for="wales-pc">PC</label>
                            <input class="inputnumbers" type="text" name="wales" id="wales-pc" value=0
                                   onchange="userInputCheck(walesinput, name), walesUserNumbers['plaidcymru'] = parseFloat(value)"/>
                        </div>
                        <div class="other-percentage"> Other <span id="otherwales">100 </span></div>
                    </form>
                    <button class="submitbutton" onclick="analyseUserInput(walesinput, 'wales')"/>
                    Submit</button>

                </div>


                <div class="country-container">
                    <h3>Northern Ireland</h3>

                    <form id="northernirelandinput">
                        <div>
                            <label for="northernireland-dup">DUP</label>
                            <input class="inputnumbers" type="text" name="northernireland"
                                   id="northernireland-dup" value=0
                                   onchange="userInputCheck(northernirelandinput, name), northernirelandUserNumbers['dup'] = parseFloat(value)"/>
                        </div>
                        <div><label for="northernireland-sf">SF</label>
                            <input class="inputnumbers" type="text" name="northernireland"
                                   id="northernireland-sf" value=0
                                   onchange="userInputCheck(northernirelandinput, name), northernirelandUserNumbers['sinnfein'] = parseFloat(value)"/>
                        </div>
                        <div><label for="northernireland-sdlp">SDLP</label>
                            <input class="inputnumbers" type="text" name="northernireland"
                                   id="northernireland-sdlp" value=0
                                   onchange="userInputCheck(northernirelandinput, name), northernirelandUserNumbers['sdlp'] = parseFloat(value)"/>
                        </div>
                        <div><label for="northernireland-uup">UUP</label>
                            <input class="inputnumbers" type="text" name="northernireland"
                                   id="northernireland-uup" value=0
                                   onchange="userInputCheck(northernirelandinput, name), northernirelandUserNumbers['uu'] = parseFloat(value)"/>
                        </div>
                        <div><label for="northernireland-all">All</label>
                            <input class="inputnumbers" type="text" name="northernireland"
                                   id="northernireland-all" value=0
                                   onchange="userInputCheck(northernirelandinput, name), northernirelandUserNumbers['alliance'] = parseFloat(value)"/>
                        </div>
                        <div class="other-percentage"> Other <span id="othernorthernireland">100 </span></div>
                    </form>
                    <button class="submitbutton"
                            onclick="analyseUserInput(northernirelandinput, 'northernireland')"/>
                    Submit</button>
                </div>
                <button class="resetmap" onclick="resetInputs()"/>
                Reset All </button>
            </div>
        </div>

         -->
</div>

<footer>
    <p>Copyright 2015 principalfish.co.uk</p>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-58696407-1', 'auto');
		ga('send', 'pageview');

	</script>
</footer>

</body>
